{"version":3,"sources":["pages/home/styles.js","functions/agendamento.js","pages/home/index.js","routes.js","styles/global.js","App.js","index.js"],"names":["Container","styled","div","Menu","Formulario","darken","List","ul","Template","Itens","Agendamento","json","this","dados","conjunto_solucao","forEach","servico","tipoDeServico","tipo_de_servico","console","log","total","duracao_estimada","minutos","toString","horas","Math","floor","sobra","resultado","split","parseInt","nome_do_servico","sort","a","b","em_casa_ate","tempo_inicio","atraso_maximo","minutosParaHoras","disponibilidade_ate","horasParaMinutos","Dashboard","useState","servicos","setServicos","setAgendamento","onSubmit","data","cliente","endereco","disponibilidade","name","type","placeholder","list","id","value","onClick","agenda","Agenda","melhor_agendamento","Object","entries","map","index","v","filter","t","removeServico","key","chave","Routes","path","exact","component","DashBoard","createGlobalStyle","App","basename","process","render","document","getElementById"],"mappings":"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","file":"static/js/main.d4a9d44e.chunk.js","sourcesContent":["import styled from 'styled-components';\nimport { darken } from 'polished';\nexport const Container = styled.div`\n  height: 100%;\n\n  background: linear-gradient(-90deg, #7159c1, #335bff);\n  h2 {\n    color: #fff;\n    margin-top: 20px;\n    margin-left: 60px;\n  }\n`;\n\nexport const Menu = styled.div`\n  display: flex;\n  justify-content: left;\n  align-items: flex-start;\n`;\nexport const Formulario = styled.div`\n  display: flex;\n  flex-direction: column;\n  form {\n    display: flex;\n    flex-direction: column;\n    margin-top: 30px;\n    margin-left: 10px;\n    input {\n      background: rgba(0, 0, 0, 0.1);\n      border: 0;\n      border-radius: 4px;\n      height: 44px;\n      padding: 0 15px;\n      color: #fff;\n      margin: 0 0 10px;\n\n      &::placeholder {\n        color: rgba(255, 255, 255, 0.7);\n      }\n    }\n    button {\n      margin: 5px 0 0;\n      height: 44px;\n      background: #3b9eff;\n      font-weight: bold;\n      color: #fff;\n      border: 0;\n      border-radius: 4px;\n      font-size: 16px;\n      transition: background 0.2s;\n\n      &:hover {\n        background: ${darken(0.03, '#3b9eff')};\n      }\n    }\n  }\n  button {\n    margin: 5px 0 0;\n    height: 44px;\n    background: #3b9eff;\n    font-weight: bold;\n    color: #fff;\n    border: 0;\n    border-radius: 4px;\n    font-size: 16px;\n    transition: background 0.2s;\n\n    &:hover {\n      background: ${darken(0.03, '#3b9eff')};\n    }\n  }\n`;\nexport const List = styled.ul`\n  display: grid;\n  grid-template-columns: repeat(8, 1fr);\n  grid-gap: 10px;\n  list-style: none;\n  width: 50%;\n  button {\n    background: transparent;\n    padding: 15px 10px;\n    border: 1px solid #eee;\n    border-radius: 4px;\n    margin-top: 10px;\n    color: #fff;\n    transition: background 0.2s;\n\n    &:hover {\n      background: ${darken(0.03, '#335bff')};\n    }\n\n    li {\n      display: flex;\n      flex-direction: column;\n      align-items: center;\n    }\n  }\n`;\n\nexport const Template = styled.div`\n  display: flex;\n  position: absolute;\n  top: 1.5em;\n  left: 18em;\n  h1 {\n    color: #fff;\n  }\n`;\n\nexport const Itens = styled.ul`\n  display: grid;\n  grid-template-columns: repeat(6, 1fr);\n  grid-gap: 10px;\n  list-style: none;\n  width: 40%;\n  li {\n    background: transparent;\n    padding: 15px 10px;\n    color: #fff;\n    border: 1px solid #eee;\n    border-radius: 4px;\n    margin-top: 10px;\n  }\n`;\n","export default class Agendamento {\n  constructor(json) {\n    this.dados = json;\n    this.conjunto_solucao = {};\n\n    this.dados.forEach((servico) => {\n      servico['duracao_estimada'] = this.tipoDeServico(servico.tipo_de_servico);\n    });\n  }\n\n  obterDados() {\n    console.log(this.dados);\n  }\n\n  somaDosHorarios() {\n    let total = 0;\n\n    this.dados.forEach((servico) => {\n      total += servico.duracao_estimada;\n    });\n\n    return total;\n  }\n\n  minutosParaHoras(minutos) {\n    if (minutos < 60) {\n      if (minutos < 10) {\n        return '00:' + '0' + minutos.toString();\n      }\n      return '00:' + minutos.toString();\n    }\n    let horas = Math.floor(minutos / 60);\n    let sobra = minutos % 60;\n\n    if (horas < 10 && sobra < 10)\n      return '0' + horas.toString() + ':0' + sobra.toString();\n    if (horas < 10 && sobra >= 10)\n      return '0' + horas.toString() + ':' + sobra.toString();\n    if (horas >= 10 && sobra < 10)\n      return horas.toString() + ':0' + sobra.toString();\n    if (horas >= 10 && sobra >= 10)\n      return horas.toString() + ':' + sobra.toString();\n  }\n  horasParaMinutos(horas) {\n    let total_em_minutos = 0;\n\n    let resultado = horas.split(':');\n    total_em_minutos =\n      parseInt(resultado[0], 10) * 60 + parseInt(resultado[1], 10);\n\n    return total_em_minutos;\n  }\n\n  tipoDeServico(nome_do_servico) {\n    if (nome_do_servico === 'Trocar o roteador') return 15;\n    if (nome_do_servico === 'Trocar antena da TV') return 30;\n    if (nome_do_servico === 'Instalar ponto adicional') return 45;\n    if (nome_do_servico === 'Cancelamento do serviço') return 60;\n    if (nome_do_servico === 'Resolver problema da internet') return 90;\n    if (nome_do_servico === 'Trocar toda a fiação') return 120;\n  }\n\n  melhor_agendamento() {\n    this.dados.sort(function (a, b) {\n\n      if(a.em_casa_ate < b.em_casa_ate) {\n        return -1;\n      }\n\n      else if(a.em_casa_ate > b.em_casa_ate) {\n        return 1;\n      }\n\n      else { // se os horarios \"em_casa_ate (deadline)\" forem iguais, as tarefas de tempo estimado menor vem à frente.\n        console.log(a, b)\n        if(a.duracao_estimada < b.duracao_estimada) {\n          return -1;\n        }\n      }\n\n    });\n\n    let tempo_inicio = 480; // 480 minutos = 8 horas\n    let atraso_maximo = 0;\n\n    this.dados.forEach((servico) => {\n      servico['hora_de_inicio'] = this.minutosParaHoras(tempo_inicio);\n      servico['hora_de_termino'] = this.minutosParaHoras(\n        tempo_inicio + servico['duracao_estimada']\n      );\n\n      tempo_inicio += servico['duracao_estimada'];\n      let disponibilidade_ate = this.horasParaMinutos(servico.em_casa_ate);\n      servico['atraso'] = 0;\n      if (tempo_inicio > disponibilidade_ate) {\n        servico['atraso'] = tempo_inicio - disponibilidade_ate;\n        atraso_maximo = +tempo_inicio - disponibilidade_ate;\n      }\n      servico['duracao_estimada'] = this.minutosParaHoras(\n        servico['duracao_estimada']\n      );\n    });\n\n    console.log('Atraso maximo: ', atraso_maximo);\n\n    return this.dados;\n  }\n}\n","import React, { useState, useEffect } from 'react';\nimport { Form, Input } from '@rocketseat/unform';\nimport { Container, Formulario, List, Menu, Template, Itens } from './styles';\nimport Agenda from '../../functions/agendamento';\nfunction Dashboard() {\n  const [servicos, setServicos] = useState([]);\n  const [Agendamento, setAgendamento] = useState([]);\n\n  function AdicionaServico({ cliente, endereco, disponibilidade, servico }) {\n    var data = {\n      cliente: cliente,\n      endereco: endereco,\n      em_casa_ate: disponibilidade,\n      tipo_de_servico: servico,\n    };\n\n    setServicos([...servicos, data]);\n  }\n\n  function removeServico(index) {\n    setServicos(servicos.filter((t) => t != servicos[index]));\n  }\n\n  function OrganizaAgendamento() {\n    // funçao que chama o algoritmo para organizar os agendaentos\n\n    const agenda = new Agenda(servicos); // instancia uma nova agenda passando os serviços do dia\n    agenda.melhor_agendamento(); // retona o melhor agendamento possivel\n    console.log(agenda);\n\n    setAgendamento(servicos);\n  }\n  return (\n    <Container>\n      <Menu>\n        <Formulario>\n          <Form onSubmit={AdicionaServico}>\n            <Input name=\"cliente\" type=\"fieldName\" placeholder=\"Cliente\" />\n            <Input name=\"endereco\" type=\"fieldName\" placeholder=\"Endereço\" />\n            <Input\n              name=\"disponibilidade\"\n              type=\"fieldName\"\n              placeholder=\"Disponibilidade\"\n            />\n\n            <Input\n              name=\"servico\"\n              list=\"opcoes\"\n              type=\"fieldName\"\n              placeholder=\"Serviço\"\n            />\n            <datalist id=\"opcoes\">\n              <option value=\"Trocar o roteador\" />\n              <option value=\"Trocar antena da TV\" />\n              <option value=\"Instalar ponto adicional\" />\n              <option value=\"Cancelamento do serviço\" />\n              <option value=\"Resolver problema da internet\" />\n              <option value=\"Trocar toda a fiação\" />\n            </datalist>\n\n            <button type=\"submit\">Adicionar Serviço</button>\n            <button type=\"button\" onClick={OrganizaAgendamento}>\n              Organizar Rota\n            </button>\n          </Form>\n        </Formulario>\n      </Menu>\n      <h2>Serviços:</h2>\n\n      <List>\n        {Object.entries(servicos).map(([index, v]) => (\n          <button type=\"button\" onClick={() => removeServico(index)}>\n            <li key={index}>\n              {Object.entries(v).map(\n                ([chave, value]) => `${chave}: ${value}\\n`\n              )}\n            </li>\n          </button>\n        ))}\n      </List>\n      <Template>\n        <h1>Rota: </h1>\n        <Itens>\n          {Object.entries(Agendamento).map(([index, v]) => (\n            <li key={index}>\n              {Object.entries(v).map(\n                ([chave, value]) => `${chave}: ${value}\\n`\n              )}\n            </li>\n          ))}\n        </Itens>\n      </Template>\n    </Container>\n  );\n}\nexport default Dashboard;\n","import React from \"react\";\nimport { Switch, Route } from \"react-router-dom\";\n\nimport DashBoard from \"./pages/home\";\n\nexport default function Routes() {\n  return (\n    <Switch>\n      <Route path=\"/\" exact component={DashBoard} />\n    </Switch>\n  );\n}\n","import { createGlobalStyle } from 'styled-components';\nimport 'react-toastify/dist/ReactToastify.css';\nimport 'react-perfect-scrollbar/dist/css/styles.css';\n\nexport default createGlobalStyle`\n@import url('https://fonts.googleapis.com/css2?family=Roboto:wght@400;700&display=swap');\n*{\n  margin:0;\n  padding:0;\n  outline:0;\n  box-sizing:border-box;\n}\n*:focus{\n  outline:0;\n}\n\nhtml ,body, #root{\n  height:100%;\n  width:100%\n}\nbody{\n  -webkit-font-smoothing:antialiased;\n\n}\nbody, -moz-user-input, button{\n  font :14px 'Roboto',sans-serif;\n}\na{\n  text-decoration:none;\n}\nul{list-style:none;}\nbutton{\n  cursor:pointer;\n}\n`;\n","import React from 'react';\nimport { BrowserRouter } from 'react-router-dom';\n\nimport Routes from './routes';\n\nimport GlobalStyle from './styles/global';\nfunction App() {\n  return (\n    <BrowserRouter basename={process.env.PUBLIC_URL}>\n      <Routes />\n      <GlobalStyle />\n    </BrowserRouter>\n  );\n}\nexport default App;\n","import React from 'react';\nimport { render } from 'react-dom';\nimport App from './App';\nrender(<App />, document.getElementById('root'));\n"],"sourceRoot":""}